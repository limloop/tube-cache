# Конфигурация Video Server
# Все пути относительны к этой папке

storage:
  base_path: "./data"             # Базовая папка для всех данных
  max_size_gb: 50                 # Максимальный размер хранилища в GB
  monitoring_interval: 360        # Интервал мониторинга хранилища в секундах (минимум 60)
  cleanup_threshold: 90           # Порог заполнения для запуска очистки в процентах (50-100%)
  target_free_space: 60           # Целевой процент свободного места после очистки (10-90%)
  log_retention_days: 7           # Количество дней хранения лог-файлов
  log_check_interval: 14400       # Интервал проверки логов для очистки в секундах (минимум 3600)
  integrity_check_interval: 3600  # Интервал проверки целостности видеофайлов в секундах (минимум 300)

download:
  max_concurrent: 2            # Максимум параллельных загрузок
  timeout_seconds: 300         # Таймаут загрузки
  retry_attempts: 2            # Попытки повтора при ошибке

server:
  host: "0.0.0.0"             # Хост для запуска
  port: 8000                   # Порт для запуска
  workers: 1                   # Количество воркеров uvicorn

sources:
  # Конфигурация для YouTube
  youtube.com:
    format: "best[height<=720]"  # Максимум 720p
    extract_audio: false
  
  # Конфигурация по умолчанию для остальных сайтов
  default:
    format: "best"
    extract_audio: false